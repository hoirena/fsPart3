{"version":3,"sources":["components/Persons.jsx","components/Filter.jsx","components/PersonForm.jsx","services/personsApis.js","components/Notification.jsx","App.js","index.js"],"names":["Persons","_ref","persons","filterName","handleDelete","map","person","name","toLocaleLowerCase","includes","_jsxs","children","number","_jsx","concat","style","display","onClick","e","Filter","handleFilter","value","onChange","PersonForm","handleNamesSubmit","newName","handleNameChange","newPhone","handleNumberChange","onSubmit","type","service","getAll","axios","get","then","response","data","addPerson","newPerson","post","res","catch","error","Error","deletePerson","id","delete","changePerson","put","Notification","message","isError","console","log","className","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setFilterName","_useState9","_useState10","setMessage","_useState11","_useState12","setIsError","useEffect","servicePersons","handleMessage","isErr","setTimeout","event","target","preventDefault","existingPerson","find","window","confirm","err","personToDelete","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4b5003d8.chunk.js","sourcesContent":["const Persons = ({ persons, filterName, handleDelete }) => persons.map(person => {\n    if (filterName !== '') {\n        return person.name.toLocaleLowerCase().includes(filterName.toLocaleLowerCase())\n        ? (\n            <div key={`${person.name}-${person.number}`}>\n                <div key={person.name}>{person.name} {person.number}</div>\n                <button>delete</button>\n            </div>\n        )\n        : null\n    }\n    return (\n        <div key={`${person.name}-${person.number}`}>\n            <div style={{ display: 'inline' }} key={person.name}>{person.name} {person.number} </div>\n            <button style={{ display: 'inline' }} onClick={(e) => handleDelete(e, person)}>\n                delete\n            </button>\n        </div>\n    )\n})\n\nexport default Persons\n","const Filter = ({ filterName, handleFilter }) => (\n    <div>\n        filter shown with\n        <input value={filterName} onChange={handleFilter} />\n    </div>\n)\n\nexport default Filter\n","const PersonForm = ({ handleNamesSubmit, newName, handleNameChange, newPhone, handleNumberChange }) => (\n    <form onSubmit={handleNamesSubmit}>\n        <h3>Add a new one</h3>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newPhone} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n)\n\nexport default PersonForm\n","import axios from \"axios\";\n\nconst getAll = axios.get('/api/persons')\n    .then(response => response.data)\n\nconst addPerson = (newPerson) => axios.post('/api/persons', newPerson)\n    .then(res => {\n        return res.data\n    })\n    .catch(error => {\n        throw new Error(error.response.data.error)\n    })\n\nconst deletePerson = (id) => axios.delete(`/api/persons/${id}`)\n    .then(res => res.data)\n\nconst changePerson = (id, newPerson) => axios.put(`/api/persons/${id}`, newPerson)\n    .then(res => res.data)\n    .catch(error => {\n        throw Error(error.response.data.error)\n    })\n\nconst service = { getAll, addPerson, deletePerson, changePerson }\n\nexport default service\n","const Notification = ({ message, isError }) => {\n  console.log('message', message);\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={`message${isError ? ' error' : ''}`}>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport servicePersons from './services/personsApis'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ message, setMessage] = useState('')\n  const [ isError, setIsError] = useState(false)\n\n  const fetchData = () => {\n    servicePersons.getAll.then(response => {\n      setPersons(response);\n    })\n  }\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewPhone(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilterName(event.target.value)\n  }\n\n  const handleMessage = (message, isErr) => {\n    setMessage(message)\n    isErr && setIsError(isErr)\n    setTimeout(() => {\n      setMessage(null)\n      setIsError(false)\n      }, 5000)\n  }\n\n  const handleDelete = (event, personToDelete) => {\n    if (window.confirm(`Are you sure you want to delete ${personToDelete.name}`)) {\n      servicePersons.deletePerson(personToDelete.id)\n        .then(data => {\n          setPersons(persons.filter(person => person.id !== personToDelete.id))\n        });\n    }\n  }\n\n  const handleNamesSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newPhone,\n    }\n    const existingPerson = persons.find(person => person.name === newName);\n    if (existingPerson) {\n      if (window.confirm(`${newName} is already added to phonebook. Replace the old number with new one?`)) {\n        servicePersons.changePerson(existingPerson.id, newPerson)\n          .then(res => {\n            setPersons(persons.map(person => {\n              if (person.name === newName) {\n                person.number = newPhone;\n              }\n              return person;\n            }))\n            handleMessage(`${res.name} updated`);\n          })\n          .catch(err => {\n            console.log('ERROR', err);\n            handleMessage(`Information of ${newPerson.name} has allready been removed from the server.`, true)\n          })\n      }\n    } else {\n      servicePersons.addPerson(newPerson)\n        .then(res => {\n          setPersons(persons.concat(res));\n          handleMessage(`${res.name} added`);\n        })\n        .catch((err) => handleMessage(err.message, true));\n      setNewName('');\n      setNewPhone('');\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message && <Notification message={message} isError={isError} />}\n      <Filter filterName={filterName} handleFilter={handleFilter} />\n      <PersonForm\n        handleNamesSubmit={handleNamesSubmit}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newPhone={newPhone}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filterName={filterName} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n"],"sourceRoot":""}